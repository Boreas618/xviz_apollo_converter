{"version":3,"file":"xviz-metric-builder.js","names":["XVIZBaseUiBuilder","UI_TYPES","XVIZMetricBuilder","constructor","streams","description","title","validateWarn","validateError","type","METRIC","_streams","_description","_title","_validate","length","_validateError","getUI","obj"],"sources":["../../../../src/builders/declarative-ui/xviz-metric-builder.js"],"sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport XVIZBaseUiBuilder from './xviz-base-ui-builder';\nimport {UI_TYPES} from './constants';\n\nexport default class XVIZMetricBuilder extends XVIZBaseUiBuilder {\n  constructor({streams, description, title, validateWarn, validateError}) {\n    super({\n      type: UI_TYPES.METRIC,\n      validateWarn,\n      validateError\n    });\n    this._streams = streams;\n    this._description = description;\n    this._title = title;\n\n    this._validate();\n  }\n\n  _validate() {\n    if (!this._streams || !this._streams.length) {\n      this._validateError('Metric component should have `streams`.');\n    }\n  }\n\n  getUI() {\n    const obj = super.getUI();\n    obj.streams = this._streams;\n\n    if (this._title) {\n      obj.title = this._title;\n    }\n\n    if (this._description) {\n      obj.description = this._description;\n    }\n\n    return obj;\n  }\n}\n"],"mappings":"AAcA,OAAOA,iBAAP,MAA8B,wBAA9B;AACA,SAAQC,QAAR,QAAuB,aAAvB;AAEA,eAAe,MAAMC,iBAAN,SAAgCF,iBAAhC,CAAkD;EAC/DG,WAAW,OAA6D;IAAA,IAA5D;MAACC,OAAD;MAAUC,WAAV;MAAuBC,KAAvB;MAA8BC,YAA9B;MAA4CC;IAA5C,CAA4D;IACtE,MAAM;MACJC,IAAI,EAAER,QAAQ,CAACS,MADX;MAEJH,YAFI;MAGJC;IAHI,CAAN;IAKA,KAAKG,QAAL,GAAgBP,OAAhB;IACA,KAAKQ,YAAL,GAAoBP,WAApB;IACA,KAAKQ,MAAL,GAAcP,KAAd;;IAEA,KAAKQ,SAAL;EACD;;EAEDA,SAAS,GAAG;IACV,IAAI,CAAC,KAAKH,QAAN,IAAkB,CAAC,KAAKA,QAAL,CAAcI,MAArC,EAA6C;MAC3C,KAAKC,cAAL,CAAoB,yCAApB;IACD;EACF;;EAEDC,KAAK,GAAG;IACN,MAAMC,GAAG,GAAG,MAAMD,KAAN,EAAZ;IACAC,GAAG,CAACd,OAAJ,GAAc,KAAKO,QAAnB;;IAEA,IAAI,KAAKE,MAAT,EAAiB;MACfK,GAAG,CAACZ,KAAJ,GAAY,KAAKO,MAAjB;IACD;;IAED,IAAI,KAAKD,YAAT,EAAuB;MACrBM,GAAG,CAACb,WAAJ,GAAkB,KAAKO,YAAvB;IACD;;IAED,OAAOM,GAAP;EACD;;AAjC8D"}