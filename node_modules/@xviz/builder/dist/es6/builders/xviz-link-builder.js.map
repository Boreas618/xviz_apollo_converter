{"version":3,"file":"xviz-link-builder.js","names":["XVIZBaseBuilder","XVIZLinkBuilder","constructor","props","_links","_targetStream","parent","targetStream","_flush","data","target_pose","_streamId","reset","getData"],"sources":["../../../src/builders/xviz-link-builder.js"],"sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint-disable camelcase */\nimport XVIZBaseBuilder from './xviz-base-builder';\n\nexport default class XVIZLinkBuilder extends XVIZBaseBuilder {\n  constructor(props) {\n    super({...props});\n\n    this._links = null;\n    this._targetStream = null;\n  }\n\n  parent(targetStream) {\n    this._targetStream = targetStream;\n  }\n\n  _flush() {\n    if (!this._links) {\n      this._links = {};\n    }\n\n    const data = {};\n\n    if (this._targetStream) {\n      data.target_pose = this._targetStream;\n      this._links[this._streamId] = data;\n    }\n  }\n\n  reset() {\n    super.reset();\n\n    this._targetStream = null;\n  }\n\n  getData() {\n    if (this._streamId) {\n      this._flush();\n    }\n\n    return this._links;\n  }\n}\n"],"mappings":";;;;;;AAeA,OAAOA,eAAP,MAA4B,qBAA5B;AAEA,eAAe,MAAMC,eAAN,SAA8BD,eAA9B,CAA8C;EAC3DE,WAAW,CAACC,KAAD,EAAQ;IACjB,wBAAUA,KAAV;IAEA,KAAKC,MAAL,GAAc,IAAd;IACA,KAAKC,aAAL,GAAqB,IAArB;EACD;;EAEDC,MAAM,CAACC,YAAD,EAAe;IACnB,KAAKF,aAAL,GAAqBE,YAArB;EACD;;EAEDC,MAAM,GAAG;IACP,IAAI,CAAC,KAAKJ,MAAV,EAAkB;MAChB,KAAKA,MAAL,GAAc,EAAd;IACD;;IAED,MAAMK,IAAI,GAAG,EAAb;;IAEA,IAAI,KAAKJ,aAAT,EAAwB;MACtBI,IAAI,CAACC,WAAL,GAAmB,KAAKL,aAAxB;MACA,KAAKD,MAAL,CAAY,KAAKO,SAAjB,IAA8BF,IAA9B;IACD;EACF;;EAEDG,KAAK,GAAG;IACN,MAAMA,KAAN;IAEA,KAAKP,aAAL,GAAqB,IAArB;EACD;;EAEDQ,OAAO,GAAG;IACR,IAAI,KAAKF,SAAT,EAAoB;MAClB,KAAKH,MAAL;IACD;;IAED,OAAO,KAAKJ,MAAZ;EACD;;AArC0D"}