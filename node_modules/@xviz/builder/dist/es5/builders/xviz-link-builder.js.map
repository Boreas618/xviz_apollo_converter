{"version":3,"file":"xviz-link-builder.js","names":["XVIZLinkBuilder","props","_links","_targetStream","targetStream","data","target_pose","_streamId","_flush","XVIZBaseBuilder"],"sources":["../../../src/builders/xviz-link-builder.js"],"sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/* eslint-disable camelcase */\nimport XVIZBaseBuilder from './xviz-base-builder';\n\nexport default class XVIZLinkBuilder extends XVIZBaseBuilder {\n  constructor(props) {\n    super({...props});\n\n    this._links = null;\n    this._targetStream = null;\n  }\n\n  parent(targetStream) {\n    this._targetStream = targetStream;\n  }\n\n  _flush() {\n    if (!this._links) {\n      this._links = {};\n    }\n\n    const data = {};\n\n    if (this._targetStream) {\n      data.target_pose = this._targetStream;\n      this._links[this._streamId] = data;\n    }\n  }\n\n  reset() {\n    super.reset();\n\n    this._targetStream = null;\n  }\n\n  getData() {\n    if (this._streamId) {\n      this._flush();\n    }\n\n    return this._links;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAeA;;;;;;;;;;IAEqBA,e;;;;;EACnB,yBAAYC,KAAZ,EAAmB;IAAA;;IAAA;IACjB,4CAAUA,KAAV;IAEA,MAAKC,MAAL,GAAc,IAAd;IACA,MAAKC,aAAL,GAAqB,IAArB;IAJiB;EAKlB;;;;WAED,gBAAOC,YAAP,EAAqB;MACnB,KAAKD,aAAL,GAAqBC,YAArB;IACD;;;WAED,kBAAS;MACP,IAAI,CAAC,KAAKF,MAAV,EAAkB;QAChB,KAAKA,MAAL,GAAc,EAAd;MACD;;MAED,IAAMG,IAAI,GAAG,EAAb;;MAEA,IAAI,KAAKF,aAAT,EAAwB;QACtBE,IAAI,CAACC,WAAL,GAAmB,KAAKH,aAAxB;QACA,KAAKD,MAAL,CAAY,KAAKK,SAAjB,IAA8BF,IAA9B;MACD;IACF;;;WAED,iBAAQ;MACN;MAEA,KAAKF,aAAL,GAAqB,IAArB;IACD;;;WAED,mBAAU;MACR,IAAI,KAAKI,SAAT,EAAoB;QAClB,KAAKC,MAAL;MACD;;MAED,OAAO,KAAKN,MAAZ;IACD;;;EArC0CO,2B"}