{"version":3,"file":"xviz-base-writer.js","names":["XVIZBaseWriter","constructor","sink","Error","_checkValid","close"],"sources":["../../../src/writers/xviz-base-writer.js"],"sourcesContent":["// Copyright (c) 2019 Uber Technologies, Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nexport class XVIZBaseWriter {\n  constructor(sink) {\n    if (!sink) {\n      throw new Error('Writer must be provided a sink');\n    }\n\n    this.sink = sink;\n  }\n\n  _checkValid() {\n    if (!this.sink) {\n      throw new Error('Cannot use this Writer after \"close()\" has been called.');\n    }\n  }\n\n  close() {\n    if (this.sink) {\n      this.sink.close();\n      this.sink = null;\n    }\n  }\n}\n"],"mappings":"AAcA,OAAO,MAAMA,cAAN,CAAqB;EAC1BC,WAAW,CAACC,IAAD,EAAO;IAChB,IAAI,CAACA,IAAL,EAAW;MACT,MAAM,IAAIC,KAAJ,CAAU,gCAAV,CAAN;IACD;;IAED,KAAKD,IAAL,GAAYA,IAAZ;EACD;;EAEDE,WAAW,GAAG;IACZ,IAAI,CAAC,KAAKF,IAAV,EAAgB;MACd,MAAM,IAAIC,KAAJ,CAAU,yDAAV,CAAN;IACD;EACF;;EAEDE,KAAK,GAAG;IACN,IAAI,KAAKH,IAAT,EAAe;MACb,KAAKA,IAAL,CAAUG,KAAV;MACA,KAAKH,IAAL,GAAY,IAAZ;IACD;EACF;;AApByB"}